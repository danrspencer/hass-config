- alias: System Startup Notification
  trigger:
    platform: homeassistant
    event: start
  action:
    service: notify.ios_dphone
    data:
      message: 'Home Assistant back online!'

- alias: System Shutdown Notification
  trigger:
    platform: homeassistant
    event: shutdown
  action:
    service: notify.ios_dphone
    data:
      message: 'Home Assistant is going down!'

- alias: System Update notifications
  trigger:
    - platform: state
      entity_id: updater.updater
  action:
    service: notify.ios_dphone
    data:
      message: 'There is a new Home Assistant release available.'

- alias: System Travis Build Status
  trigger:
  - platform: state
    entity_id: sensor.travis_build_status
    from: 'started'
    to: 'failed'
  action:
  - service: notify.ios_dphone
    data:
      message: 'Build failed! ğŸ¤¬ ğŸ˜±'

- alias: System Travis Build Passed
  trigger:
  - platform: state
    entity_id: sensor.travis_build_status
    from: 'started'
    to: 'passed'
  action:
  - service: notify.ios_dphone
    data:
      message: 'Build passed! ğŸ‘ ğŸ¤©'
  - delay: 10
  - service: switch.turn_on
    entity_id: switch.git_pull
  
